<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>JSä¸­çš„thisã€é—­åŒ…ã€ä½œç”¨åŸŸé“¾ | Tony Miao Official Website</title>
  <meta name="keywords" content="">
  <meta name="description" content="JSä¸­çš„thisã€é—­åŒ…ã€ä½œç”¨åŸŸé“¾ | Tony Miao Official Website">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="description" content="1. Whatâ€™s the time complexity of the following code, and why?1234567var a &#x3D; 0;for (var i &#x3D; 0; i &lt; N; i++) &amp;#123;   &#x2F;&#x2F; first iteration    for (var j &#x3D; N; j &gt; i; j--) &#x2F;&#x2F; second iteration    &amp;#123;">
<meta property="og:type" content="article">
<meta property="og:title" content="æµ‹è¯•é¢˜">
<meta property="og:url" content="http://tonymiao.com/2022/09/04/%E6%B5%8B%E8%AF%95%E9%A2%98/index.html">
<meta property="og:site_name" content="Tony Miao Official Website">
<meta property="og:description" content="1. Whatâ€™s the time complexity of the following code, and why?1234567var a &#x3D; 0;for (var i &#x3D; 0; i &lt; N; i++) &amp;#123;   &#x2F;&#x2F; first iteration    for (var j &#x3D; N; j &gt; i; j--) &#x2F;&#x2F; second iteration    &amp;#123;">
<meta property="og:locale">
<meta property="article:published_time" content="2022-09-04T12:28:34.000Z">
<meta property="article:modified_time" content="2022-09-06T03:11:43.761Z">
<meta property="article:author" content="Tony Miao">
<meta name="twitter:card" content="summary">


<link rel="icon" href="/img/avatar.jpg">

<link href="/css/style.css?v=1.1.0" rel="stylesheet">

<link href="/css/hl_theme/atom-light.css?v=1.1.0" rel="stylesheet">

<link href="//cdn.jsdelivr.net/npm/animate.css@4.1.0/animate.min.css" rel="stylesheet">

<script src="//cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.min.js"></script>
<script src="/js/titleTip.js?v=1.1.0" ></script>

<script src="//cdn.jsdelivr.net/npm/highlightjs@9.16.2/highlight.pack.min.js"></script>
<script>
    hljs.initHighlightingOnLoad();
</script>

<script src="//cdn.jsdelivr.net/npm/nprogress@0.2.0/nprogress.min.js"></script>



<script src="//cdn.jsdelivr.net/npm/jquery.cookie@1.4.1/jquery.cookie.min.js" ></script>

<script src="/js/iconfont.js?v=1.1.0" ></script>

<meta name="generator" content="Hexo 6.2.0"></head>
<div style="display: none">
  <input class="theme_disqus_on" value="false">
  <input class="theme_preload_comment" value="">
  <input class="theme_blog_path" value="">
  <input id="theme_shortcut" value="true" />
  <input id="theme_highlight_on" value="true" />
  <input id="theme_code_copy" value="true" />
</div>



<body>
<aside class="nav">
    <div class="nav-left">
        <a href="/" class="avatar_target">
    <img class="avatar" src="/img/avatar.jpg" />
</a>
<div class="author">
    <span>Tony Miao</span>
</div>

<div class="icon">
    
        
        <a title="rss" href="/atom.xml" target="_blank">
            
                <svg class="iconfont-svg" aria-hidden="true">
                    <use xlink:href="#icon-rss"></use>
                </svg>
            
        </a>
        
    
        
        <a title="github" href="https://github.com/tonymiao2012" target="_blank">
            
                <svg class="iconfont-svg" aria-hidden="true">
                    <use xlink:href="#icon-github"></use>
                </svg>
            
        </a>
        
    
        
    
        
    
        
    
        
        <a title="instagram" href="https://www.instagram.com/tonymiao2012/" target="_blank">
            
                <svg class="iconfont-svg" aria-hidden="true">
                    <use xlink:href="#icon-instagram"></use>
                </svg>
            
        </a>
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
        <a title="email" href="mailto:miaozixiong@gmail.com" target="_blank">
            
                <svg class="iconfont-svg" aria-hidden="true">
                    <use xlink:href="#icon-email"></use>
                </svg>
            
        </a>
        
    
        
    
        
    
        
        <a title="neteasemusic" href="https://music.163.com/#/user/home?id=50881992" target="_blank">
            
                <svg class="iconfont-svg" aria-hidden="true">
                    <use xlink:href="#icon-neteasemusic"></use>
                </svg>
            
        </a>
        
    
</div>




<ul>
    <li><div class="all active" data-rel="å…¨éƒ¨æ–‡ç« ">å…¨éƒ¨æ–‡ç« <small>(14)</small></div></li>
    
        
            
            <li><div data-rel="æ·±å…¥JS">æ·±å…¥JS<small>(1)</small></div>
                
            </li>
            
        
    
        
            
            <li><div data-rel="HelloWorld">HelloWorld<small>(1)</small></div>
                
            </li>
            
        
    
        
            
            <li><div data-rel="Hexo">Hexo<small>(1)</small></div>
                
            </li>
            
        
    
        
            
            <li><div data-rel="LeetCode">LeetCode<small>(1)</small></div>
                
            </li>
            
        
    
        
            
            <li><div data-rel="React">React<small>(2)</small></div>
                
            </li>
            
        
    
        
            
            <li><div data-rel="ReactNative">ReactNative<small>(1)</small></div>
                
            </li>
            
        
    
        
            
            <li><div data-rel="TypeScript">TypeScript<small>(1)</small></div>
                
            </li>
            
        
    
</ul>
<div class="left-bottom">
    <div class="menus">
    
    
    
    
    </div>
    <div><a class="about  hasFriend  site_url"  href="/about">å…³äº</a><a style="width: 50%"  class="friends">å‹é“¾</a></div>
</div>
<input type="hidden" id="yelog_site_posts_number" value="14">

<div style="display: none">
    <span id="busuanzi_value_site_uv"></span>
    <span id="busuanzi_value_site_pv"></span>
</div>

    </div>
    <div class="nav-right">
        <div class="friends-area">
    <div class="friends-title">
        å‹æƒ…é“¾æ¥
        <i class="iconfont icon-left"></i>
    </div>
    <div class="friends-content">
        <ul>
            
            <li><a target="_blank" href="http://yelog.org/">å¶è½é˜</a></li>
            
        </ul>
    </div>
</div>
        <div class="title-list">
    <div class="right-top">
        <div id="default-panel">
            <i class="iconfont icon-search" data-title="æœç´¢ å¿«æ·é”® i"></i>
            <div class="right-title">å…¨éƒ¨æ–‡ç« </div>
            <i class="iconfont icon-file-tree" data-title="åˆ‡æ¢åˆ°å¤§çº²è§†å›¾ å¿«æ·é”® w"></i>
        </div>
        <div id="search-panel">
            <i class="iconfont icon-left" data-title="è¿”å›"></i>
            <input id="local-search-input" />
            <label class="border-line" for="input"></label>
            <i class="iconfont icon-case-sensitive" data-title="å¤§å°å†™æ•æ„Ÿ"></i>
            <i class="iconfont icon-tag" data-title="æ ‡ç­¾"></i>
        </div>
        <div id="outline-panel" style="display: none">
            <div class="right-title">å¤§çº²</div>
            <i class="iconfont icon-list" data-title="åˆ‡æ¢åˆ°æ–‡ç« åˆ—è¡¨"></i>
        </div>
    </div>

    <div class="tags-list">
    <input id="tag-search" />
    <div class="tag-wrapper">
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>é¢è¯•</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>å‰ç«¯</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>å‰ç«¯router</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>æ•°æ®ç»“æ„</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>HelloWorld</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>Hexo</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>React</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>react native</a>
            </li>
        
    </div>

</div>

    
    <nav id="title-list-nav">
        
        <a  class="å…¨éƒ¨æ–‡ç«  "
           href="/2022/09/04/%E6%B5%8B%E8%AF%95%E9%A2%98/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="æµ‹è¯•é¢˜">æµ‹è¯•é¢˜</span>
            <span class="post-date" title="2022-09-04 20:28:34">2022/09/04</span>
        </a>
        
        <a  class="å…¨éƒ¨æ–‡ç«  React "
           href="/2022/08/21/React%E5%8E%9F%E7%90%86%E4%B8%80%E6%8A%8A%E6%92%B8/"
           data-tag="React"
           data-author="" >
            <span class="post-title" title="ReactåŸç†ä¸€æŠŠæ’¸">ReactåŸç†ä¸€æŠŠæ’¸</span>
            <span class="post-date" title="2022-08-21 13:49:00">2022/08/21</span>
        </a>
        
        <a  class="å…¨éƒ¨æ–‡ç«  "
           href="/2022/08/20/%E5%89%8D%E7%AB%AF%E8%B7%AF%E7%94%B1%E5%8E%9F%E7%90%86/"
           data-tag="å‰ç«¯router"
           data-author="" >
            <span class="post-title" title="å‰ç«¯è·¯ç”±åŸç†">å‰ç«¯è·¯ç”±åŸç†</span>
            <span class="post-date" title="2022-08-20 21:30:15">2022/08/20</span>
        </a>
        
        <a  class="å…¨éƒ¨æ–‡ç«  "
           href="/2022/08/19/JS%E4%B8%AD%E7%9A%84this%E3%80%81%E9%97%AD%E5%8C%85%E3%80%81%E4%BD%9C%E7%94%A8%E5%9F%9F%E9%93%BE/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="JSä¸­çš„thisã€é—­åŒ…ã€ä½œç”¨åŸŸé“¾">JSä¸­çš„thisã€é—­åŒ…ã€ä½œç”¨åŸŸé“¾</span>
            <span class="post-date" title="2022-08-19 14:31:58">2022/08/19</span>
        </a>
        
        <a  class="å…¨éƒ¨æ–‡ç«  TypeScript "
           href="/2022/08/19/TS%E5%9F%BA%E7%A1%80%E6%80%BB%E7%BB%93/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="TSåŸºç¡€æ€»ç»“">TSåŸºç¡€æ€»ç»“</span>
            <span class="post-date" title="2022-08-19 14:19:03">2022/08/19</span>
        </a>
        
        <a  class="å…¨éƒ¨æ–‡ç«  "
           href="/2022/08/18/JS%E6%B7%B1%E6%8B%B7%E8%B4%9D%EF%BC%8C%E6%B5%85%E6%8B%B7%E8%B4%9D/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="JSæ·±æ‹·è´ï¼Œæµ…æ‹·è´">JSæ·±æ‹·è´ï¼Œæµ…æ‹·è´</span>
            <span class="post-date" title="2022-08-18 16:02:57">2022/08/18</span>
        </a>
        
        <a  class="å…¨éƒ¨æ–‡ç«  React "
           href="/2022/08/15/React%E7%9F%A5%E8%AF%86%E7%82%B9%E6%BB%B4/"
           data-tag="é¢è¯•"
           data-author="" >
            <span class="post-title" title="ReactçŸ¥è¯†ç‚¹æ»´ï¼ˆæŒç»­æ›´æ–°ä¸­ï¼‰">ReactçŸ¥è¯†ç‚¹æ»´ï¼ˆæŒç»­æ›´æ–°ä¸­ï¼‰</span>
            <span class="post-date" title="2022-08-15 11:59:20">2022/08/15</span>
        </a>
        
        <a  class="å…¨éƒ¨æ–‡ç«  ReactNative "
           href="/2022/08/15/React-Native%E4%BC%98%E5%8C%96%E9%82%A3%E4%BA%9B%E4%BA%8B%E5%84%BF/"
           data-tag="react native"
           data-author="" >
            <span class="post-title" title="React Nativeä¼˜åŒ–é‚£äº›äº‹å„¿(æŒç»­æ›´æ–°ä¸­)">React Nativeä¼˜åŒ–é‚£äº›äº‹å„¿(æŒç»­æ›´æ–°ä¸­)</span>
            <span class="post-date" title="2022-08-15 11:18:02">2022/08/15</span>
        </a>
        
        <a  class="å…¨éƒ¨æ–‡ç«  HelloWorld "
           href="/2022/08/08/hello-world/"
           data-tag="HelloWorld"
           data-author="" >
            <span class="post-title" title="Hello World">Hello World</span>
            <span class="post-date" title="2022-08-08 16:49:17">2022/08/08</span>
        </a>
        
        <a  class="å…¨éƒ¨æ–‡ç«  æ·±å…¥JS "
           href="/2021/04/12/JS-Promise%E5%8E%9F%E7%90%86%E5%8F%8A%E5%AE%9E%E7%8E%B0/"
           data-tag="å‰ç«¯"
           data-author="" >
            <span class="post-title" title="JS PromiseåŸç†åŠå®ç°">JS PromiseåŸç†åŠå®ç°</span>
            <span class="post-date" title="2021-04-12 20:12:08">2021/04/12</span>
        </a>
        
        <a  class="å…¨éƒ¨æ–‡ç«  "
           href="/2021/03/11/%E5%A4%8D%E7%9B%98%E8%87%AA%E7%9C%81/"
           data-tag="é¢è¯•"
           data-author="" >
            <span class="post-title" title="å¤ç›˜è‡ªçœ">å¤ç›˜è‡ªçœ</span>
            <span class="post-date" title="2021-03-11 22:07:29">2021/03/11</span>
        </a>
        
        <a  class="å…¨éƒ¨æ–‡ç«  "
           href="/2021/03/09/CSS%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86%E7%82%B9/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="CSSåŸºç¡€çŸ¥è¯†ç‚¹">CSSåŸºç¡€çŸ¥è¯†ç‚¹</span>
            <span class="post-date" title="2021-03-09 13:18:26">2021/03/09</span>
        </a>
        
        <a  class="å…¨éƒ¨æ–‡ç«  LeetCode "
           href="/2020/10/12/LeetCode%E5%88%B7%E9%A2%98%E5%87%86%E5%A4%87%E4%B9%8B%E5%B8%B8%E7%94%A8JS%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/"
           data-tag="æ•°æ®ç»“æ„"
           data-author="" >
            <span class="post-title" title="LeetCodeåˆ·é¢˜å‡†å¤‡ä¹‹å¸¸ç”¨JSæ•°æ®ç»“æ„">LeetCodeåˆ·é¢˜å‡†å¤‡ä¹‹å¸¸ç”¨JSæ•°æ®ç»“æ„</span>
            <span class="post-date" title="2020-10-12 22:54:53">2020/10/12</span>
        </a>
        
        <a  class="å…¨éƒ¨æ–‡ç«  Hexo "
           href="/2020/10/07/%E4%BD%BF%E7%94%A8Hexo%E6%90%AD%E5%BB%BA%E9%9D%99%E6%80%81blog%E7%9A%84%E5%BF%83%E5%BE%97%E4%BD%93%E4%BC%9A/"
           data-tag="Hexo"
           data-author="" >
            <span class="post-title" title="ä½¿ç”¨Hexoæ­å»ºé™æ€blogçš„å¿ƒå¾—ä½“ä¼š">ä½¿ç”¨Hexoæ­å»ºé™æ€blogçš„å¿ƒå¾—ä½“ä¼š</span>
            <span class="post-date" title="2020-10-07 17:57:27">2020/10/07</span>
        </a>
        
        <div id="no-item-tips">

        </div>
    </nav>
    <div id="outline-list">
    </div>
</div>
    </div>
    <div class="hide-list">
        <div class="semicircle" data-title="åˆ‡æ¢å…¨å± å¿«æ·é”® s">
            <div class="brackets first"><</div>
            <div class="brackets">&gt;</div>
        </div>
    </div>
</aside>
<div id="post">
    <div class="pjax">
        <article id="post-JSä¸­çš„thisã€é—­åŒ…ã€ä½œç”¨åŸŸé“¾" class="article article-type-post" itemscope itemprop="blogPost">
    
        <h1 class="article-title">JSä¸­çš„thisã€é—­åŒ…ã€ä½œç”¨åŸŸé“¾</h1>
    
    <div class="article-meta">
        
        
        
        
    </div>
    <div class="article-meta">
        
            å‘å¸ƒæ—¶é—´ : <time class="date" title='æœ€åæ›´æ–°: 2022-08-19 18:33:36'>2022-08-19 14:31</time>
        
    </div>
    <div class="article-meta">
        
        
        <span id="busuanzi_container_page_pv">
            é˜…è¯» :<span id="busuanzi_value_page_pv">
                <span class="count-comment">
                    <span class="spinner">
                      <div class="cube1"></div>
                      <div class="cube2"></div>
                    </span>
                </span>
            </span>
        </span>
        
        
    </div>
    
    <div class="toc-ref">
    
        <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E3%80%90%E8%BD%AC%E3%80%91this-%E6%8C%87%E5%90%91-%EF%BD%9C%E4%BD%9C%E7%94%A8%E5%9F%9F%E4%B8%8E%E9%97%AD%E5%8C%85"><span class="toc-text">ã€è½¬ã€‘this æŒ‡å‘ ï½œä½œç”¨åŸŸä¸é—­åŒ…</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#this-%E9%97%AE%E9%A2%98%E6%80%BB%E7%BB%93"><span class="toc-text">this é—®é¢˜æ€»ç»“</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%BB%98%E8%AE%A4%E7%BB%91%E5%AE%9A%EF%BC%88%E5%87%BD%E6%95%B0%E7%9B%B4%E6%8E%A5%E8%B0%83%E7%94%A8%EF%BC%89"><span class="toc-text">é»˜è®¤ç»‘å®šï¼ˆå‡½æ•°ç›´æ¥è°ƒç”¨ï¼‰</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%9A%90%E5%BC%8F%E7%BB%91%E5%AE%9A%EF%BC%88%E5%B1%9E%E6%80%A7%E8%AE%BF%E9%97%AE%E8%B0%83%E7%94%A8%EF%BC%89"><span class="toc-text">éšå¼ç»‘å®šï¼ˆå±æ€§è®¿é—®è°ƒç”¨ï¼‰</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%98%BE%E5%BC%8F%E7%BB%91%E5%AE%9A%EF%BC%88call%E3%80%81-bind%E3%80%81-apply%EF%BC%89"><span class="toc-text">æ˜¾å¼ç»‘å®šï¼ˆcallã€ bindã€ applyï¼‰</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#new"><span class="toc-text">new</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AE%AD%E5%A4%B4%E5%87%BD%E6%95%B0"><span class="toc-text">ç®­å¤´å‡½æ•°</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AD%A6%E4%B9%A0"><span class="toc-text">å­¦ä¹ </span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BC%98%E5%85%88%E7%BA%A7"><span class="toc-text">ä¼˜å…ˆçº§</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%9E%E6%88%98%E4%B8%80%E6%B3%A2"><span class="toc-text">å®æˆ˜ä¸€æ³¢</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%86%8D%E9%AA%9A%E6%B0%94%E4%B8%80%E7%82%B9"><span class="toc-text">å†éªšæ°”ä¸€ç‚¹</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BD%9C%E7%94%A8%E5%9F%9F%E5%92%8C%E9%97%AD%E5%8C%85"><span class="toc-text">ä½œç”¨åŸŸå’Œé—­åŒ…</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AD%98%E5%82%A8%E7%A9%BA%E9%97%B4%E3%80%81%E6%89%A7%E8%A1%8C%E4%B8%8A%E4%B8%8B%E6%96%87"><span class="toc-text">å­˜å‚¨ç©ºé—´ã€æ‰§è¡Œä¸Šä¸‹æ–‡</span></a></li></ol></li></ol></li></ol>
    
<style>
    .left-col .switch-btn,
    .left-col .switch-area {
        display: none;
    }
    .toc-level-3 i,
    .toc-level-3 ol {
        display: none !important;
    }
</style>
</div>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="ã€è½¬ã€‘this-æŒ‡å‘-ï½œä½œç”¨åŸŸä¸é—­åŒ…"><a href="#ã€è½¬ã€‘this-æŒ‡å‘-ï½œä½œç”¨åŸŸä¸é—­åŒ…" class="headerlink" title="ã€è½¬ã€‘this æŒ‡å‘ ï½œä½œç”¨åŸŸä¸é—­åŒ…"></a>ã€è½¬ã€‘this æŒ‡å‘ ï½œä½œç”¨åŸŸä¸é—­åŒ…</h1><blockquote>
<p>æ³¢æ¯” - èµ„æ·±èˆªç©ºæ¯èˆ°æ‹¼æ¥å·¥ç¨‹å¸ˆï½œä¸€çº§èºä¸å·¥</p>
</blockquote>
<hr>
<p>å¤§çº²</p>
<ul>
<li>å®æˆ˜æ˜¯æ£€éªŒçœŸç†çš„å”¯ä¸€æ ‡å‡†</li>
<li>æ·±å…¥ç†è§£ <code>this</code></li>
<li>ä½œç”¨åŸŸ</li>
<li>é—­åŒ…åˆ°åº•æ˜¯ä»€ä¹ˆ</li>
</ul>
<hr>
<h2 id="this-é—®é¢˜æ€»ç»“"><a href="#this-é—®é¢˜æ€»ç»“" class="headerlink" title="this é—®é¢˜æ€»ç»“"></a><code>this</code> é—®é¢˜æ€»ç»“</h2><p>è¿™ä¸€èŠ‚è¯¾ç¨‹ï¼Œä»¥å®æˆ˜ä¸ºå¼•å­ï¼Œå¸¦é¢†å¤§å®¶ä¸€èµ·æ€»ç»“å‡º <code>this</code> æŒ‡å‘é—®é¢˜çš„è§„å¾‹ã€‚</p>
<h3 id="é»˜è®¤ç»‘å®šï¼ˆå‡½æ•°ç›´æ¥è°ƒç”¨ï¼‰"><a href="#é»˜è®¤ç»‘å®šï¼ˆå‡½æ•°ç›´æ¥è°ƒç”¨ï¼‰" class="headerlink" title="é»˜è®¤ç»‘å®šï¼ˆå‡½æ•°ç›´æ¥è°ƒç”¨ï¼‰"></a>é»˜è®¤ç»‘å®šï¼ˆå‡½æ•°ç›´æ¥è°ƒç”¨ï¼‰</h3><p>éä¸¥æ ¼æ¨¡å¼ä¸‹ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">fn</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>) <span class="comment">// windowå˜é‡ã€‚å‡½æ•°ç›´æ¥æ‰§è¡Œæ—¶å€™thisæŒ‡å‘å…¨å±€</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">fn</span>()</span><br></pre></td></tr></table></figure>



<p>ä¸¥æ ¼æ¨¡å¼ä¸‹ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">fn</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="string">&#x27;use strict&#x27;</span></span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>) <span class="comment">// console what ?</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">fn</span>()</span><br></pre></td></tr></table></figure>



<blockquote>
<p>TIP1 ğŸ‘‰ éä¸¥æ ¼æ¨¡å¼ä¸‹ï¼Œé»˜è®¤ç»‘å®šæŒ‡å‘å…¨å±€ï¼ˆ<code>node</code> ä¸­å¼ <code>global</code>ï¼‰</p>
</blockquote>
<p>å½“ç„¶ï¼Œé¢è¯•å®˜å¯èƒ½ä¼šè¿™æ ·è¿·æƒ‘ä¸€ä¸‹ä½ ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="number">1</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">fn</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">var</span> a = <span class="number">2</span></span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">a</span>) <span class="comment">// ç­‰åŒäºwindow.a, è¾“å‡º1</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">fn</span>()</span><br><span class="line"></span><br><span class="line"><span class="comment">// -------------- å˜ -----------------</span></span><br><span class="line"><span class="comment">// 1. æŠŠæœ€å¤–å±‚ var a = 1 -&gt; let a = 1ï¼Œè¾“å‡ºç»“æœæ˜¯ï¼Ÿ</span></span><br><span class="line"><span class="comment">// Answer: undefined. let å£°æ˜äº†è‡ªå·±çš„ä½œç”¨åŸŸï¼Œæ²¡æœ‰ç»‘å®šåˆ°å…¨å±€ </span></span><br><span class="line"><span class="comment">// -------------- å˜ -----------------</span></span><br><span class="line"><span class="keyword">var</span> b = <span class="number">1</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">outer</span> () &#123;</span><br><span class="line">  <span class="keyword">var</span> b = <span class="number">2</span></span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">inner</span> () &#123; </span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">b</span>) <span class="comment">// console what ?</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="title function_">inner</span>()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">outer</span>()</span><br><span class="line"></span><br><span class="line"><span class="comment">// --------------- å˜ -----------------</span></span><br><span class="line"><span class="keyword">const</span> obj = &#123;</span><br><span class="line">  <span class="attr">a</span>: <span class="number">1</span>,</span><br><span class="line">  <span class="attr">fn</span>: <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">a</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">obj.<span class="title function_">fn</span>() <span class="comment">// console 1, fnä½œç”¨åŸŸç»‘å®šåˆ°objï¼Œæ‰€ä»¥æ‰§è¡Œæ—¶å€™ä¸º1</span></span><br><span class="line"><span class="keyword">const</span> f = obj.<span class="property">fn</span></span><br><span class="line"><span class="title function_">f</span>() <span class="comment">// undefinedï¼Œç›¸å½“äºå‡½æ•°ç›´æ¥è°ƒç”¨ã€‚è®¿é—®å…¨å±€çš„a, undefined</span></span><br></pre></td></tr></table></figure>



<h3 id="éšå¼ç»‘å®šï¼ˆå±æ€§è®¿é—®è°ƒç”¨ï¼‰"><a href="#éšå¼ç»‘å®šï¼ˆå±æ€§è®¿é—®è°ƒç”¨ï¼‰" class="headerlink" title="éšå¼ç»‘å®šï¼ˆå±æ€§è®¿é—®è°ƒç”¨ï¼‰"></a>éšå¼ç»‘å®šï¼ˆå±æ€§è®¿é—®è°ƒç”¨ï¼‰</h3><p>è¿™ç§ä¹Ÿæ˜¯éå¸¸å¸¸è§çš„æƒ…å†µ</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">fn</span> () &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">a</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> obj = &#123;</span><br><span class="line">  <span class="attr">a</span>: <span class="number">1</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">obj.<span class="property">fn</span> = fn</span><br><span class="line">obj.<span class="title function_">fn</span>() <span class="comment">// console 1. éšå¼æ•°æ®ç»‘å®šã€‚</span></span><br></pre></td></tr></table></figure>



<blockquote>
<p>TIP ğŸ‘‰ éšå¼ç»‘å®šçš„ <code>this</code> æŒ‡çš„æ˜¯è°ƒç”¨å †æ ˆçš„<strong>ä¸Šä¸€çº§</strong>ï¼ˆ<code>.</code>å‰é¢<strong>ä¸€</strong>ä¸ªï¼‰</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">fn</span> () &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">a</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> obj1 = &#123;</span><br><span class="line">  <span class="attr">a</span>: <span class="number">1</span>,</span><br><span class="line">  fn</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> obj2 = &#123;</span><br><span class="line">  <span class="attr">a</span>: <span class="number">2</span>,</span><br><span class="line">  obj1</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">obj2.<span class="property">obj1</span>.<span class="title function_">fn</span>() <span class="comment">// console 1 æŒ‡å‘è°ƒç”¨å †æ ˆçš„ä¸Šä¸€çº§</span></span><br></pre></td></tr></table></figure>



<p>é¢è¯•å®˜ä¸€èˆ¬é—®çš„æ˜¯ä¸€äº›è¾¹ç•Œ <code>case</code>ï¼Œæ¯”å¦‚éšå¼ç»‘å®šå¤±æ•ˆï¼ˆåˆ—ä¸¾éƒ¨åˆ†ï¼‰ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ç¬¬ä¸€ç§ æ˜¯å‰é¢æè¿‡çš„æƒ…å†µ</span></span><br><span class="line"><span class="keyword">const</span> obj1 = &#123;</span><br><span class="line">  <span class="attr">a</span>: <span class="number">1</span>,</span><br><span class="line">  <span class="attr">fn</span>: <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">a</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> fn1 = obj1.<span class="property">fn</span> <span class="comment">// å°†å¼•ç”¨ç»™äº† fn1ï¼Œç­‰åŒäºå†™äº† function fn1() &#123; console.log(this.a) &#125;</span></span><br><span class="line"><span class="title function_">fn1</span>() <span class="comment">// æ‰€ä»¥è¿™é‡Œå…¶å®å·²ç»å˜æˆäº†é»˜è®¤ç»‘å®šè§„åˆ™äº†ï¼Œè¯¥å‡½æ•° `fn1` æ‰§è¡Œçš„ç¯å¢ƒå°±æ˜¯å…¨å±€ç¯å¢ƒ</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ç¬¬äºŒç§ setTimeout</span></span><br><span class="line"><span class="built_in">setTimeout</span>(obj1.<span class="property">fn</span>, <span class="number">1000</span>) <span class="comment">// è¿™é‡Œæ‰§è¡Œçš„ç¯å¢ƒåŒæ ·æ˜¯å…¨å±€</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ç¬¬ä¸‰ç§ å‡½æ•°ä½œä¸ºå‚æ•°ä¼ é€’</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">run</span>(<span class="params">fn</span>) &#123;</span><br><span class="line">  <span class="title function_">fn</span>()</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">run</span>(obj1.<span class="property">fn</span>) <span class="comment">// è¿™é‡Œä¼ è¿›å»çš„æ˜¯ä¸€ä¸ªå¼•ç”¨</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ç¬¬å››ç§ ä¸€èˆ¬åŒ¿åå‡½æ•°ä¹Ÿæ˜¯ä¼šæŒ‡å‘å…¨å±€çš„</span></span><br><span class="line"><span class="keyword">var</span> name = <span class="string">&#x27;The Window&#x27;</span>;</span><br><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;My obj&#x27;</span>,</span><br><span class="line">    <span class="attr">getName</span>: <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">function</span>(<span class="params"></span>) &#123; <span class="comment">// è¿™æ˜¯ä¸€ä¸ªåŒ¿åå‡½æ•°</span></span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">name</span>)</span><br><span class="line">        &#125;;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">obj.<span class="title function_">getName</span>()()</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç¬¬äº”ç§ å‡½æ•°èµ‹å€¼ä¹Ÿä¼šæ”¹å˜ this æŒ‡å‘ï¼Œä¸‹è¾¹ç»ƒä¹ é¢˜ä¼šæœ‰ caseï¼Œreact ä¸­äº‹ä»¶å¤„ç†å‡½æ•°ä¸ºå•¥è¦ bind ä¸€ä¸‹çš„åŸå› </span></span><br><span class="line"><span class="comment">// ç¬¬å…­ç§ IIFE</span></span><br></pre></td></tr></table></figure>



<h3 id="æ˜¾å¼ç»‘å®šï¼ˆcallã€-bindã€-applyï¼‰"><a href="#æ˜¾å¼ç»‘å®šï¼ˆcallã€-bindã€-applyï¼‰" class="headerlink" title="æ˜¾å¼ç»‘å®šï¼ˆcallã€ bindã€ applyï¼‰"></a>æ˜¾å¼ç»‘å®šï¼ˆ<code>call</code>ã€ <code>bind</code>ã€ <code>apply</code>ï¼‰</h3><p>é€šè¿‡æ˜¾å¼çš„ä¸€äº›æ–¹æ³•å»å¼ºè¡Œçš„ç»‘å®š <code>this</code> ä¸Šä¸‹æ–‡</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">fn</span> () &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">a</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> obj = &#123;</span><br><span class="line">  <span class="attr">a</span>: <span class="number">100</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">fn.<span class="title function_">call</span>(obj) <span class="comment">// console 100ï¼Œæ˜¾ç¤ºç»‘å®šå…³ç³»ã€‚å¼ºè¡Œç»‘å®šäº†objçš„ä¸Šä¸‹æ–‡ç¯å¢ƒ</span></span><br></pre></td></tr></table></figure>



<blockquote>
<p>TIP ğŸ‘‰ è¿™ç§æ ¹æœ¬è¿˜æ˜¯å–å†³äºç¬¬ä¸€ä¸ªå‚æ•°</p>
<p>ä½†æ˜¯ç¬¬ä¸€ä¸ªä¸º <code>null</code> çš„æ—¶å€™è¿˜æ˜¯ç»‘åˆ°å…¨å±€çš„</p>
</blockquote>
<p><code>bind</code> è¿™é‡Œå•æ‹å‡ºæ¥ï¼Œå› ä¸ºé¢è¯•å¸¸å¸¸é—®æ˜¯å§</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">fn</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä¸ºå•¥å¯ä»¥ç»‘å®šåŸºæœ¬ç±»å‹ ?</span></span><br><span class="line"><span class="comment">// boxing(è£…ç®±) -&gt; (1 ----&gt; Number(1))</span></span><br><span class="line"><span class="comment">// bind åªçœ‹ç¬¬ä¸€ä¸ª bindï¼ˆå †æ ˆçš„ä¸Šä¸‹æ–‡ï¼Œä¸Šä¸€ä¸ªï¼Œå†™çš„é¡ºåºæ¥çœ‹å°±æ˜¯ç¬¬ä¸€ä¸ªï¼‰</span></span><br><span class="line">fn.<span class="title function_">bind</span>(<span class="number">1</span>).<span class="title function_">bind</span>(<span class="number">2</span>)() <span class="comment">// console ç»“æœä¸º1</span></span><br></pre></td></tr></table></figure>



<p>çœ‹çœ‹å®ç°ä¹Ÿå¾ˆæœ‰è¶£ï¼ˆ<code>FROM MDN</code>ï¼‰ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//  Yes, it does work with `new (funcA.bind(thisArg, args))`</span></span><br><span class="line"><span class="keyword">if</span> (!<span class="title class_">Function</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">bind</span>) (<span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">  <span class="keyword">var</span> <span class="title class_">ArrayPrototypeSlice</span> = <span class="title class_">Array</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">slice</span>; <span class="comment">// ä¸ºäº† this</span></span><br><span class="line">  <span class="title class_">Function</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">bind</span> = <span class="keyword">function</span>(<span class="params">otherThis</span>) &#123;</span><br><span class="line">    <span class="comment">// è°ƒç”¨è€…å¿…é¡»æ˜¯å‡½æ•°ï¼Œè¿™é‡Œçš„ this æŒ‡å‘è°ƒç”¨è€…ï¼šfn.bind(ctx, ...args) / fn</span></span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">typeof</span> <span class="variable language_">this</span> !== <span class="string">&#x27;function&#x27;</span>) &#123;</span><br><span class="line">      <span class="comment">// closest thing possible to the ECMAScript 5</span></span><br><span class="line">      <span class="comment">// internal IsCallable function</span></span><br><span class="line">      <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">TypeError</span>(<span class="string">&#x27;Function.prototype.bind - what is trying to be bound is not callable&#x27;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> baseArgs= <span class="title class_">ArrayPrototypeSlice</span>.<span class="title function_">call</span>(<span class="variable language_">arguments</span>, <span class="number">1</span>), <span class="comment">// å–ä½™ä¸‹çš„å‚æ•°</span></span><br><span class="line">        baseArgsLength = baseArgs.<span class="property">length</span>,</span><br><span class="line">        fToBind = <span class="variable language_">this</span>, <span class="comment">// è°ƒç”¨è€…</span></span><br><span class="line">        fNOP    = <span class="keyword">function</span>(<span class="params"></span>) &#123;&#125;, <span class="comment">// å¯„ç”Ÿç»„åˆé›†æˆéœ€è¦ä¸€ä¸ªä¸­é—´å‡½æ•°ï¼Œé¿å…ä¸¤æ¬¡æ„é€ </span></span><br><span class="line">        fBound  = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">          <span class="comment">// const newFn = fn.bind(ctx, 1); newFn(2) -&gt; arguments: [1, 2]</span></span><br><span class="line">          baseArgs.<span class="property">length</span> = baseArgsLength; <span class="comment">// reset to default base arguments</span></span><br><span class="line">          baseArgs.<span class="property">push</span>.<span class="title function_">apply</span>(baseArgs, <span class="variable language_">arguments</span>); <span class="comment">// å‚æ•°æ”¶é›†</span></span><br><span class="line">          <span class="keyword">return</span> fToBind.<span class="title function_">apply</span>( <span class="comment">// apply æ˜¾ç¤ºç»‘å®š this</span></span><br><span class="line">            <span class="comment">// åˆ¤æ–­æ˜¯ä¸æ˜¯ new è°ƒç”¨çš„æƒ…å†µï¼Œè¿™é‡Œä¹Ÿè¯´æ˜äº†åè¾¹è¦è®²çš„ä¼˜å…ˆçº§é—®é¢˜      </span></span><br><span class="line">            fNOP.<span class="property"><span class="keyword">prototype</span></span>.<span class="title function_">isPrototypeOf</span>(<span class="variable language_">this</span>) ? <span class="variable language_">this</span> : otherThis, baseArgs</span><br><span class="line">          );</span><br><span class="line">        &#125;;</span><br><span class="line">		<span class="comment">// ä¸‹è¾¹æ˜¯ä¸ºäº†å®ç°åŸå‹ç»§æ‰¿</span></span><br><span class="line">    <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="property"><span class="keyword">prototype</span></span>) &#123; <span class="comment">// å‡½æ•°çš„åŸå‹æŒ‡å‘å…¶æ„é€ å‡½æ•°ï¼Œæ„é€ å‡½æ•°çš„åŸå‹æŒ‡å‘å‡½æ•°</span></span><br><span class="line">      <span class="comment">// Function.prototype doesn&#x27;t have a prototype property</span></span><br><span class="line">      fNOP.<span class="property"><span class="keyword">prototype</span></span> = <span class="variable language_">this</span>.<span class="property"><span class="keyword">prototype</span></span>; <span class="comment">// å°±æ˜¯è®©ä¸­é—´å‡½æ•°çš„æ„é€ å‡½æ•°æŒ‡å‘è°ƒç”¨è€…çš„æ„é€ </span></span><br><span class="line">    &#125;</span><br><span class="line">    fBound.<span class="property"><span class="keyword">prototype</span></span> = <span class="keyword">new</span> <span class="title function_">fNOP</span>(); <span class="comment">// ç»§æ‰¿ä¸­é—´å‡½æ•°ï¼Œå…¶å®è¿™é‡Œä¹Ÿç»§æ‰¿äº†è°ƒç”¨è€…äº†</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> fBound; <span class="comment">// new fn()</span></span><br><span class="line">  &#125;;</span><br><span class="line">&#125;)();</span><br></pre></td></tr></table></figure>



<h3 id="new"><a href="#new" class="headerlink" title="new"></a>new</h3><p><code>new</code> ä¹Ÿæ˜¯ç°å¸¸æœ‰è¶£ï¼Œæˆ‘ä»¬è¿™é‡Œåªå…³æ³¨å…¶ <code>this</code> æŒ‡å‘çš„é—®é¢˜</p>
<p>è¿™æ¬¡ï¼Œæˆ‘ä»¬å…ˆå®ç°ä¸€ä¸‹</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// new å…³é”®å­—ä¼šè¿›è¡Œå¦‚ä¸‹çš„æ“ä½œï¼š</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 1. åˆ›å»ºä¸€ä¸ªç©ºçš„ç®€å•JavaScriptå¯¹è±¡ï¼ˆå³&#123;&#125;ï¼‰ï¼›</span></span><br><span class="line"><span class="comment">// 2. é“¾æ¥è¯¥å¯¹è±¡ï¼ˆè®¾ç½®è¯¥å¯¹è±¡çš„constructorï¼‰åˆ°å¦ä¸€ä¸ªå¯¹è±¡ ï¼›</span></span><br><span class="line"><span class="comment">// 3. å°†æ­¥éª¤1æ–°åˆ›å»ºçš„å¯¹è±¡ä½œä¸ºthisçš„ä¸Šä¸‹æ–‡ ï¼›// ğŸ”¥</span></span><br><span class="line"><span class="comment">// 4. å¦‚æœè¯¥å‡½æ•°æ²¡æœ‰è¿”å›å¯¹è±¡ï¼Œåˆ™è¿”å›thisã€‚</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// æˆ‘ä»¬æ¥æ¨¡æ‹Ÿå®ç°ä¸€ä¸ª new</span></span><br><span class="line"><span class="comment">// new Fn(); </span></span><br><span class="line"><span class="comment">// myNew(Fn, ...args);</span></span><br><span class="line"><span class="keyword">import</span> _ <span class="keyword">from</span> <span class="string">&#x27;lodash&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">myNew</span>(<span class="params">fn, ...args</span>) &#123;</span><br><span class="line">  <span class="comment">// fn å¿…é¡»æ˜¯ä¸€ä¸ªå‡½æ•°</span></span><br><span class="line">  <span class="keyword">if</span> (<span class="keyword">typeof</span> fn !== <span class="string">&#x27;function&#x27;</span>) <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">Error</span>(<span class="string">&#x27;fn must be a function.&#x27;</span>)</span><br><span class="line">  <span class="comment">// es6 new.target</span></span><br><span class="line">  myNew.<span class="property">target</span> = fn</span><br><span class="line">  <span class="comment">// åŸå‹ç»§æ‰¿</span></span><br><span class="line">  <span class="keyword">const</span> temp = <span class="title class_">Object</span>.<span class="title function_">create</span>(fn.<span class="property"><span class="keyword">prototype</span></span>) <span class="comment">// æ­¥éª¤ 1. 2.</span></span><br><span class="line">  <span class="comment">// fnæ‰§è¡Œç»‘å®š this ç¯å¢ƒ</span></span><br><span class="line">  <span class="keyword">const</span> res = fn.<span class="title function_">apply</span>(temp, ...args) <span class="comment">// æ­¥éª¤ 3.</span></span><br><span class="line">  <span class="comment">// å¦‚æœè¯¥å‡½æ•°æ²¡æœ‰è¿”å›å¯¹è±¡ï¼Œåˆ™è¿”å›thisã€‚</span></span><br><span class="line">  <span class="keyword">return</span> _.<span class="title function_">isObject</span>(res) ? res : temp</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<blockquote>
<p>TIP ğŸ‘‰ å¦‚æœå‡½æ•° <code>constructor</code> é‡Œæ²¡æœ‰è¿”å›å¯¹è±¡çš„è¯ï¼Œ<code>this</code> æŒ‡å‘çš„æ˜¯ <code>new</code> ä¹‹åå¾—åˆ°çš„å®ä¾‹</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">foo</span>(<span class="params">a</span>) &#123;</span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">a</span> = a</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> f = <span class="keyword">new</span> <span class="title function_">foo</span>(<span class="number">2</span>)</span><br><span class="line">f.<span class="property">a</span> <span class="comment">// console what?</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ------------------------- å˜ ---------------------------</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">bar</span>(<span class="params">a</span>) &#123;</span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">a</span> = a</span><br><span class="line">  <span class="keyword">return</span> &#123;</span><br><span class="line">    <span class="attr">a</span>: <span class="number">100</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> b = <span class="keyword">new</span> <span class="title function_">bar</span>(<span class="number">3</span>)</span><br><span class="line">b.<span class="property">a</span> <span class="comment">// console 100</span></span><br></pre></td></tr></table></figure>



<h3 id="ç®­å¤´å‡½æ•°"><a href="#ç®­å¤´å‡½æ•°" class="headerlink" title="ç®­å¤´å‡½æ•°"></a>ç®­å¤´å‡½æ•°</h3><p>ç®­å¤´å‡½æ•°è¿™ç§æƒ…å†µæ¯”è¾ƒç‰¹æ®Šï¼Œç¼–è¯‘æœŸé—´ç¡®å®šçš„ä¸Šä¸‹æ–‡ï¼Œä¸ä¼šè¢«æ”¹å˜ï¼Œå“ªæ€•ä½  <code>new</code>ï¼ŒæŒ‡å‘çš„å°±æ˜¯<strong>ä¸Šä¸€å±‚</strong>çš„ä¸Šä¸‹æ–‡,</p>
<blockquote>
<p>TIP ğŸ‘‰ ç®­å¤´å‡½æ•°æœ¬èº«æ˜¯æ²¡æœ‰ <code>this</code> çš„ï¼Œç»§æ‰¿çš„æ˜¯å¤–å±‚çš„</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">fn</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> &#123;</span><br><span class="line">    <span class="attr">b</span>: <span class="function">() =&gt;</span> &#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">fn</span>().<span class="title function_">b</span>() <span class="comment">// console what? =&gt; windowå˜é‡</span></span><br><span class="line"><span class="title function_">fn</span>().<span class="property">b</span>.<span class="title function_">bind</span>(<span class="number">1</span>)() <span class="comment">// console what? =&gt; windowå˜é‡</span></span><br><span class="line">fn.<span class="title function_">bind</span>(<span class="number">2</span>)().<span class="property">b</span>.<span class="title function_">bind</span>(<span class="number">3</span>)() <span class="comment">// console what? =&gt; Number(2)</span></span><br></pre></td></tr></table></figure>



<h3 id="å­¦ä¹ "><a href="#å­¦ä¹ " class="headerlink" title="å­¦ä¹ "></a>å­¦ä¹ </h3><p>è¿™é‡Œåªæ˜¯æŠ›ç –å¼•ç‰çš„ç»™å¤§å®¶ä»‹ç»ä¸€äº›å¸¸è§çš„æƒ…å†µï¼Œæ›´å¤šæ›´ç»†èŠ‚çš„å†…å®¹è¿˜æ˜¯éœ€è¦å¤§å®¶ä¸»åŠ¨çš„å»æ€»ç»“ï¼Œå»å®è·µï¼Œå¯ä»¥çœ‹çœ‹<a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/this">æ›´å¤šå¯å‚è§ MDN</a></p>
<h3 id="ä¼˜å…ˆçº§"><a href="#ä¼˜å…ˆçº§" class="headerlink" title="ä¼˜å…ˆçº§"></a>ä¼˜å…ˆçº§</h3><p>è¿™ä¸Šé¢çš„å„ç§æ–¹å¼ä¸€å®šæ˜¯æœ‰å…ˆåé¡ºåºçš„ï¼ŒåŒæ—¶ä½œç”¨äºä¸€ä¸ªå‡½æ•°çš„æ—¶å€™ï¼Œä»¥å“ªä¸€ä¸ªä¸ºå‡†å‘¢ï¼Ÿè¿™å–å†³äºä¼˜å…ˆçº§</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// éšå¼ vs é»˜è®¤ -&gt; ç»“è®ºï¼šéšå¼ &gt; é»˜è®¤</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">fn</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> obj = &#123;</span><br><span class="line">  fn</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">obj.<span class="title function_">fn</span>() <span class="comment">// what ?</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// æ˜¾å¼ vs éšå¼ -&gt; ç»“è®ºï¼šæ˜¾å¼ &gt; éšå¼</span></span><br><span class="line">obj.<span class="property">fn</span>.<span class="title function_">bind</span>(<span class="number">5</span>)() <span class="comment">// what ?</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// new vs æ˜¾å¼ -&gt; ç»“è®ºï¼šnew &gt; æ˜¾å¼</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">foo</span> (a) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">a</span> = a</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> obj1 = &#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> bar = foo.<span class="title function_">bind</span>(obj1)</span><br><span class="line"><span class="title function_">bar</span>(<span class="number">2</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(obj1.<span class="property">a</span>) <span class="comment">// what ?</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// new</span></span><br><span class="line"><span class="keyword">var</span> baz = <span class="keyword">new</span> <span class="title function_">bar</span>(<span class="number">3</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>( obj1.<span class="property">a</span> ) <span class="comment">// what ?</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>( baz.<span class="property">a</span> ) <span class="comment">// what ?</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ç®­å¤´å‡½æ•°æ²¡æœ‰ thisï¼Œæ¯”è¾ƒæ²¡æœ‰æ„ä¹‰</span></span><br></pre></td></tr></table></figure>



<blockquote>
<p>TIP ğŸ‘‰ ä¼˜å…ˆçº§ã€Œnew ç»‘ã€ &gt; ã€Œæ˜¾ç»‘ã€ &gt; ã€Œéšç»‘ã€ &gt; ã€Œé»˜è®¤ç»‘å®šã€</p>
</blockquote>
<h3 id="å®æˆ˜ä¸€æ³¢"><a href="#å®æˆ˜ä¸€æ³¢" class="headerlink" title="å®æˆ˜ä¸€æ³¢"></a>å®æˆ˜ä¸€æ³¢</h3><p>ç½‘ä¸Šéšä¾¿æ‰¾äº†å‡ é“é¢˜ç»™å¤§å®¶ç»ƒæ‰‹</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 1.</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">foo</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>( <span class="variable language_">this</span>.<span class="property">a</span> ) <span class="comment">// console what -&gt; 2ï¼Œç›¸å½“äºå…¨å±€æ‰§è¡Œ</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> a = <span class="number">2</span>;</span><br><span class="line">(<span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">  <span class="string">&quot;use strict&quot;</span> <span class="comment">// è¿·æƒ‘å¤§å®¶çš„</span></span><br><span class="line">  <span class="title function_">foo</span>();</span><br><span class="line">&#125;)();</span><br><span class="line"></span><br><span class="line"><span class="comment">// 2.</span></span><br><span class="line"><span class="keyword">var</span> name=<span class="string">&quot;the window&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> object=&#123;</span><br><span class="line">  <span class="attr">name</span>:<span class="string">&quot;My Object&quot;</span>, </span><br><span class="line">  <span class="attr">getName</span>: <span class="keyword">function</span>(<span class="params"></span>)&#123; </span><br><span class="line">    <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">name</span></span><br><span class="line">  &#125; </span><br><span class="line">&#125;</span><br><span class="line">object.<span class="title function_">getName</span>() <span class="comment">// console what =&gt; my object</span></span><br><span class="line">(object.<span class="property">getName</span>)() <span class="comment">// console what =&gt; my object</span></span><br><span class="line">(object.<span class="property">getName</span> = object.<span class="property">getName</span>)() <span class="comment">// console what =&gt; the window (=è¿ç®—ç¬¦ä¸¢å¤±äº†thisæŒ‡å‘)</span></span><br><span class="line">(object.<span class="property">getName</span>, object.<span class="property">getName</span>)() <span class="comment">// console what =&gt; the window</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 3.</span></span><br><span class="line"><span class="keyword">var</span> x = <span class="number">3</span></span><br><span class="line"><span class="keyword">var</span> obj3 = &#123;</span><br><span class="line">  <span class="attr">x</span>: <span class="number">1</span>,</span><br><span class="line">  <span class="attr">getX</span>: <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> x = <span class="number">5</span></span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">x</span></span><br><span class="line">    &#125;(); <span class="comment">// âš ï¸</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(obj3.<span class="title function_">getX</span>()) <span class="comment">// console what? =&gt; 3   IIFEå‡½æ•°ä¸¢å¤±thisæŒ‡å‘ï¼Œæ‰€ä»¥æŒ‡å‘å…¨å±€x</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 4. </span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">a</span>(<span class="params">x</span>)&#123;</span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">x</span> = x</span><br><span class="line">  <span class="keyword">return</span> <span class="variable language_">this</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> x = <span class="title function_">a</span>(<span class="number">5</span>) <span class="comment">// æ›¿æ¢ä¸º let å†è¯•è¯•</span></span><br><span class="line"><span class="keyword">var</span> y = <span class="title function_">a</span>(<span class="number">6</span>) <span class="comment">// æ›¿æ¢ä¸º let å†è¯•è¯• // å†æ¢å› varï¼Œä½†æ˜¯å»æ‰ y çš„æƒ…å†µï¼Œå†è¯•è¯•</span></span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(x.<span class="property">x</span>) <span class="comment">// console what ? =&gt; undefined</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(y.<span class="property">x</span>) <span class="comment">// console what ? =&gt; 6</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ç­‰ä»·äº</span></span><br><span class="line"><span class="variable language_">window</span>.<span class="property">x</span> = <span class="number">5</span>;</span><br><span class="line"><span class="variable language_">window</span>.<span class="property">x</span> = <span class="variable language_">window</span>;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">window</span>.<span class="property">x</span> = <span class="number">6</span>;</span><br><span class="line"><span class="variable language_">window</span>.<span class="property">y</span> = <span class="variable language_">window</span>;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(x.<span class="property">x</span>) <span class="comment">// void 0 å…¶å®æ‰§è¡Œçš„æ˜¯ Number(6).x</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(y.<span class="property">x</span>) <span class="comment">// 6</span></span><br></pre></td></tr></table></figure>



<h3 id="å†éªšæ°”ä¸€ç‚¹"><a href="#å†éªšæ°”ä¸€ç‚¹" class="headerlink" title="å†éªšæ°”ä¸€ç‚¹"></a>å†éªšæ°”ä¸€ç‚¹</h3><p>ä½œä¸šï¼šå°è¯•ç€å»è¯»ä¸€è¯»ï¼Œç†è§£ä¸€ä¸‹</p>
<p><a target="_blank" rel="noopener" href="https://tc39.es/ecma262/#sec-this-keyword">this keyword</a></p>
<h2 id="ä½œç”¨åŸŸå’Œé—­åŒ…"><a href="#ä½œç”¨åŸŸå’Œé—­åŒ…" class="headerlink" title="ä½œç”¨åŸŸå’Œé—­åŒ…"></a>ä½œç”¨åŸŸå’Œé—­åŒ…</h2><p>ä¸Šè¾¹åŸºç¡€çš„éƒ¨åˆ†å®Œæˆäº†ï¼Œæˆ‘ä»¬å¼€å§‹æŠ½è±¡ä¸€ä¸‹äº†ã€‚</p>
<h3 id="å­˜å‚¨ç©ºé—´ã€æ‰§è¡Œä¸Šä¸‹æ–‡"><a href="#å­˜å‚¨ç©ºé—´ã€æ‰§è¡Œä¸Šä¸‹æ–‡" class="headerlink" title="å­˜å‚¨ç©ºé—´ã€æ‰§è¡Œä¸Šä¸‹æ–‡"></a>å­˜å‚¨ç©ºé—´ã€æ‰§è¡Œä¸Šä¸‹æ–‡</h3><p>ğŸ‘‰ æ•°æ®æ˜¯æ€ä¹ˆå­˜çš„ï¼Ÿ</p>
<blockquote>
<p>æœ¬è´¨æ˜¯å°†æ•°æ®æ˜ å°„æˆ <code>0</code> <code>1</code> ï¼Œç„¶åé€šè¿‡è§¦å‘å™¨å­˜å‚¨è¿™ç±»ä¿¡æ¯ï¼ˆç”µä¿¡å·ï¼‰</p>
</blockquote>
<p>ğŸ‘‰ æ ˆ å’Œ å † &#x2F; é™æ€å†…å­˜åˆ†é… å’Œ åŠ¨æ€å†…å­˜åˆ†é…</p>
<p>å †æ ˆè¿™é‡ŒæŒ‡çš„æ˜¯å­˜å‚¨æ•°æ®ç»“æ„ï¼Œå½“ç„¶æœ¬èº«ä¹Ÿå¯ä»¥æ˜¯ä¸€ç§æ•°æ®ç»“æ„çš„æ¦‚å¿µï¼ˆäºŒå‰å †ã€æ ˆï¼‰</p>
<blockquote>
<p>é™æ€å†…å­˜åˆ†é…:</p>
<ul>
<li>ç¼–è¯‘æœŸçŸ¥é“æ‰€éœ€å†…å­˜ç©ºé—´å¤§å°ã€‚</li>
<li>ç¼–è¯‘æœŸæ‰§è¡Œ</li>
<li>ç”³è¯·åˆ°æ ˆç©ºé—´</li>
<li>FILO(å…ˆè¿›åå‡º)</li>
</ul>
</blockquote>
<blockquote>
<p>åŠ¨æ€å†…å­˜åˆ†é…:</p>
<ul>
<li>ç¼–è¯‘æœŸä¸çŸ¥é“æ‰€éœ€å†…å­˜ç©ºé—´å¤§å°</li>
<li>è¿è¡ŒæœŸæ‰§è¡Œ</li>
<li>ç”³è¯·åˆ°å †ç©ºé—´</li>
<li>æ²¡æœ‰ç‰¹å®šçš„é¡ºåº</li>
</ul>
</blockquote>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// rust -&gt; wasm</span></span><br><span class="line"><span class="keyword">fn</span> <span class="title function_">main</span>()&#123;</span><br><span class="line">   <span class="keyword">let</span> <span class="variable">arr</span>:[<span class="type">i32</span>;<span class="number">4</span>] = [<span class="number">10</span>,<span class="number">20</span>,<span class="number">30</span>,<span class="number">40</span>];</span><br><span class="line">   <span class="built_in">println!</span>(<span class="string">&quot;array is &#123;:?&#125;&quot;</span>,arr);</span><br><span class="line">   <span class="built_in">println!</span>(<span class="string">&quot;array size is :&#123;&#125;&quot;</span>,arr.<span class="title function_ invoke__">len</span>());</span><br><span class="line"></span><br><span class="line">   <span class="keyword">for</span> <span class="variable">index</span> <span class="keyword">in</span> <span class="number">0</span>..<span class="number">4</span> &#123;</span><br><span class="line">      <span class="built_in">println!</span>(<span class="string">&quot;index is: &#123;&#125; &amp; value is : &#123;&#125;&quot;</span>,index,arr[index]);</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// js</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">main</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">let</span> arr = [<span class="number">10</span>,<span class="number">20</span>,<span class="number">30</span>,<span class="number">40</span>];</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<p>ğŸ‘‰ æ‰§è¡Œä¸Šä¸‹æ–‡ å’Œ å¯æ‰§è¡Œä»£ç </p>
<blockquote>
<p>Execution context (abbreviated form â€” EC) is the abstract concept used by ECMA-262 specification for typification and differentiation of an executable code. </p>
<p>â€‹																																	â€”â€”â€“ ECMA262</p>
</blockquote>
<p>å½“æ§åˆ¶å™¨è½¬åˆ°ä¸€æ®µ<strong>å¯æ‰§è¡Œä»£ç </strong>çš„æ—¶å€™å°±ä¼šè¿›å…¥åˆ°ä¸€ä¸ª<strong>æ‰§è¡Œä¸Šä¸‹æ–‡</strong>ã€‚æ‰§è¡Œä¸Šä¸‹æ–‡æ˜¯ä¸€ä¸ªå †æ ˆç»“æ„(å…ˆè¿›åå‡º), æ ˆåº•éƒ¨æ°¸è¿œæ˜¯å…¨å±€ä¸Šä¸‹æ–‡ï¼Œæ ˆé¡¶æ˜¯å½“å‰æ´»åŠ¨çš„ä¸Šä¸‹æ–‡ã€‚å…¶ä½™éƒ½æ˜¯åœ¨ç­‰å¾…çš„çŠ¶æ€ï¼Œè¿™ä¹Ÿå°è¯äº†<code>JS</code>ä¸­å‡½æ•°æ‰§è¡Œçš„åŸå­æ€§</p>
<p>å¯æ‰§è¡Œä»£ç ä¸æ‰§è¡Œä¸Šä¸‹æ–‡æ˜¯ç›¸å¯¹çš„ï¼ŒæŸäº›æ—¶åˆ»äºŒè€…ç­‰ä»·</p>
<blockquote>
<p> å¯æ‰§è¡Œä»£ç ï¼ˆå¤§è‡´å¯ä»¥è¿™ä¹ˆåˆ’åˆ†ï¼‰ï¼š</p>
<ul>
<li>å…¨å±€ä»£ç </li>
<li>å‡½æ•°</li>
<li>eval</li>
</ul>
</blockquote>
<p>ğŸ¤” é€’å½’ &amp; å°¾è°ƒç”¨ä¼˜åŒ–</p>
<p><a target="_blank" rel="noopener" href="https://imgtu.com/i/gEdBIU"><img src="https://z3.ax1x.com/2021/04/30/gEdBIU.png" alt="gEdBIU.png"></a></p>
<p>æ‰§è¡Œä¸Šä¸‹æ–‡ï¼ˆç®€ç§° <code>EC</code>ï¼‰ä¸­ä¸»è¦åˆ†ä¸ºä¸‰éƒ¨åˆ†å†…å®¹ï¼š</p>
<ul>
<li><code>VO</code> &#x2F; <code> AO</code> å˜é‡å¯¹è±¡</li>
<li>ä½œç”¨åŸŸé“¾</li>
<li><code>This</code></li>
</ul>
<p>æ‰€ä»¥è¿™ä¸ªæµç¨‹å¯ä»¥æ¢³ç†å‡ºæ¥ï¼š</p>
<ol>
<li><p>é‡åˆ°å¯æ‰§è¡Œä»£ç </p>
</li>
<li><p>åˆ›å»ºä¸€ä¸ªæ‰§è¡Œä¸Šä¸‹æ–‡ ï¼ˆå¯æ‰§è¡Œä»£ç çš„ç”Ÿå‘½å‘¨æœŸï¼šç¼–è¯‘ã€è¿è¡Œï¼‰</p>
<p>2.1 åˆå§‹åŒ– <code>VO</code></p>
<p>2.2 å»ºç«‹ä½œç”¨åŸŸé“¾</p>
<p>2.3 ç¡®å®š <code>This</code> ä¸Šä¸‹æ–‡</p>
</li>
<li><p>å¯æ‰§è¡Œä»£ç æ‰§è¡Œé˜¶æ®µ</p>
<p>3.1 å‚æ•°ã€å˜é‡èµ‹å€¼ã€æå‡</p>
<p>3.2 å‡½æ•°å¼•ç”¨</p>
<p>3.3 â€¦</p>
</li>
<li><p>å‡ºæ ˆ</p>
</li>
</ol>
<p>ğŸ‘‰ ä½œç”¨åŸŸé“¾</p>
<blockquote>
<p>æ¯ä¸€ä¸ªæ‰§è¡Œä¸Šä¸‹æ–‡éƒ½ä¸ä¸€ä¸ªä½œç”¨åŸŸé“¾ç›¸å…³è”ã€‚ä½œç”¨åŸŸé“¾æ˜¯ä¸€ä¸ªå¯¹è±¡ç»„æˆçš„é“¾è¡¨ï¼Œ<strong>æ±‚å€¼æ ‡è¯†ç¬¦</strong>çš„æ—¶å€™ä¼šæœç´¢å®ƒã€‚å½“æ§åˆ¶è¿›å…¥æ‰§è¡Œä¸Šä¸‹æ–‡æ—¶ï¼Œå°±æ ¹æ®ä»£ç ç±»å‹åˆ›å»ºä¸€ä¸ªä½œç”¨åŸŸé“¾ï¼Œå¹¶ç”¨åˆå§‹åŒ–å¯¹è±¡ï¼ˆ<code>VO/AO</code>ï¼‰å¡«å……ã€‚æ‰§è¡Œä¸€ä¸ªä¸Šä¸‹æ–‡çš„æ—¶å€™ï¼Œå…¶ä½œç”¨åŸŸé“¾åªä¼šè¢« <code>with</code> å£°æ˜å’Œ <code>catch</code> è¯­å¥æ‰€å½±å“</p>
</blockquote>
<p>ä½“ä¼šä¸€ä¸‹</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="number">20</span>;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">foo</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="keyword">var</span> b = <span class="number">100</span>;</span><br><span class="line">    <span class="title function_">alert</span>( a + b );</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">foo</span>();</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä¸¤ä¸ªé˜¶æ®µï¼šåˆ›å»º - æ‰§è¡Œ</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// --------------------------- åˆ›å»º ------------------------------</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// æ¨¡æ‹Ÿ VO/AO å¯¹è±¡</span></span><br><span class="line"><span class="title function_">AO</span>(<span class="params">foo</span>) &#123;</span><br><span class="line">  <span class="attr">b</span>: <span class="keyword">void</span> <span class="number">0</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// [[scope]] ä¸æ˜¯ä½œç”¨åŸŸé“¾ï¼Œåªæ˜¯å‡½æ•°çš„ä¸€ä¸ªå±æ€§ï¼ˆè§„èŒƒé‡Œçš„ï¼Œä¸æ˜¯å®é™…å®ç°ï¼‰</span></span><br><span class="line"><span class="comment">// åœ¨å‡½æ•°åˆ›å»ºæ—¶è¢«å­˜å‚¨ï¼Œé™æ€ï¼ˆä¸å˜çš„ï¼‰ï¼Œæ°¸è¿œæ°¸è¿œï¼Œç›´åˆ°å‡½æ•°è¢«é”€æ¯</span></span><br><span class="line">foo.[[scope]]: [<span class="title function_">VO</span>(<span class="variable language_">global</span>)]</span><br><span class="line"></span><br><span class="line"><span class="title function_">VO</span>(<span class="params"><span class="variable language_">global</span></span>) &#123;</span><br><span class="line">  <span class="attr">a</span>: <span class="keyword">void</span> <span class="number">0</span>,</span><br><span class="line">  <span class="attr">foo</span>: <span class="title class_">Reference</span>&lt;<span class="string">&#x27;foo&#x27;</span>&gt;</span><br><span class="line">&#125;</span><br><span class="line">  </span><br><span class="line"><span class="comment">// --------------------------- è°ƒç”¨ ------------------------------</span></span><br><span class="line">  </span><br><span class="line"><span class="comment">// å¯ä»¥è¿™ä¹ˆå»ç†è§£ï¼Œè¿‘ä¼¼çš„ç”¨ä¸€ä¸ª concant æ¨¡æ‹Ÿï¼Œå°±æ˜¯å°†å½“å‰çš„æ´»åŠ¨å¯¹è±¡æ”¾ä½œç”¨åŸŸé“¾æœ€å‰è¾¹</span></span><br><span class="line"><span class="title class_">Scope</span> = [<span class="variable constant_">AO</span>|<span class="variable constant_">VO</span>].<span class="title function_">concat</span>([[<span class="title class_">Scope</span>]])</span><br><span class="line">  </span><br><span class="line">  </span><br><span class="line"><span class="comment">// ---------------------------- æ‰§è¡Œæ—¶ EC --------------------------------</span></span><br><span class="line"><span class="title function_">EC</span>(<span class="params"><span class="variable language_">global</span></span>) &#123;</span><br><span class="line">  <span class="title function_">VO</span>(<span class="params"><span class="variable language_">global</span></span>) &#123;</span><br><span class="line">    <span class="attr">a</span>: <span class="keyword">void</span> <span class="number">0</span>,</span><br><span class="line">    <span class="attr">foo</span>: <span class="title class_">Reference</span>&lt;<span class="string">&#x27;foo&#x27;</span>&gt;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="title class_">Scope</span>: [<span class="title function_">VO</span>(<span class="variable language_">global</span>)]ï¼Œ</span><br><span class="line">  <span class="comment">// this</span></span><br><span class="line">&#125;</span><br><span class="line">  </span><br><span class="line"><span class="title function_">EC</span>(<span class="params">foo</span>) &#123;</span><br><span class="line">  <span class="title function_">AO</span>(<span class="params">foo</span>) &#123; <span class="comment">// å£°æ˜çš„å˜é‡ï¼Œå‚æ•°</span></span><br><span class="line">    <span class="attr">b</span>: <span class="keyword">void</span> <span class="number">0</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="title class_">Scope</span>: [<span class="title function_">AO</span>(foo), <span class="title function_">VO</span>(<span class="variable language_">global</span>)] <span class="comment">// æŸ¥æ‰¾é¡ºåº -&gt; RHS LHS  </span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p>ç‰¹æ®Šæƒ…å†µï¼š</p>
<ul>
<li><code>Function</code>  æ„é€ çš„å‡½æ•° <code>[[scope]]</code> é‡Œåªæœ‰å…¨å±€çš„å˜é‡å¯¹è±¡</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è¯æ˜</span></span><br><span class="line"><span class="keyword">var</span> a = <span class="number">10</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">foo</span>(<span class="params"></span>)&#123;</span><br><span class="line">  <span class="keyword">var</span> b = <span class="number">20</span>;</span><br><span class="line">  <span class="comment">// å‡½æ•°å£°æ˜</span></span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">f1</span>(<span class="params"></span>)&#123; <span class="comment">// EC(f1) &#123; Scope: [AO(f1), VO(foo), VO(g)] &#125;</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(a, b);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// å‡½æ•°è¡¨è¾¾å¼</span></span><br><span class="line">  <span class="keyword">var</span> f2 = <span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(a, b);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">var</span> f3 = <span class="title class_">Function</span>(<span class="string">&#x27;console.log(a,b)&#x27;</span>)</span><br><span class="line"></span><br><span class="line">  <span class="title function_">f1</span>(); <span class="comment">// 10, 20</span></span><br><span class="line">  <span class="title function_">f2</span>(); <span class="comment">// 10, 20</span></span><br><span class="line">  <span class="title function_">f3</span>(); <span class="comment">// 10, b is not defined</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">foo</span>();</span><br></pre></td></tr></table></figure>



<ul>
<li><code>with</code> &amp; <code>catch</code> &amp; <code>eval</code></li>
</ul>
<blockquote>
<p>æœ¬è´¨ä¸Š <code>eval</code> ä¹‹ç±»çš„ææ€–ä¹‹å¤„æ˜¯å¯ä»¥å¾ˆæ–¹ä¾¿çš„ä¿®æ”¹ä½œç”¨åŸŸé“¾ï¼Œ<strong>æ‰§è¡Œå®Œååˆå›å½’æœ€åˆçŠ¶æ€</strong></p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è¿™æ ·å¥½ç†è§£</span></span><br><span class="line"><span class="title class_">Scope</span> = [ withObj|catchObj ].<span class="title function_">concat</span>( [ <span class="variable constant_">AO</span>|<span class="variable constant_">VO</span> ].<span class="title function_">concat</span>( [[ scope ]] ) )</span><br><span class="line"><span class="comment">// åˆå§‹çŠ¶æ€ [VO(foo), VO(global)]</span></span><br><span class="line"><span class="comment">// with ä¸€ä¸‹ï¼š[VO(with)â“, VO(foo), VO(global)]</span></span><br><span class="line"><span class="comment">// with å®Œäº‹å„¿äº†ï¼Œè¿˜è¦æ¢å¤ ğŸ‘ˆ</span></span><br></pre></td></tr></table></figure>



<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="number">15</span>, b = <span class="number">15</span>;</span><br><span class="line"></span><br><span class="line"><span class="title function_">with</span>(<span class="params"> &#123; a: <span class="number">10</span> &#125; </span>)&#123;</span><br><span class="line">  <span class="keyword">var</span> a = <span class="number">30</span>, b = <span class="number">30</span>;</span><br><span class="line">  <span class="title function_">alert</span>(a); <span class="comment">// 30</span></span><br><span class="line">  <span class="title function_">alert</span>(b); <span class="comment">// 30</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">alert</span>(a); <span class="comment">// ? answer: 15</span></span><br><span class="line"><span class="title function_">alert</span>(b); <span class="comment">// 30</span></span><br></pre></td></tr></table></figure>



<p>ğŸ‘‰ é—­åŒ…</p>
<blockquote>
<p>å‡½æ•°æ‹¥æœ‰å¯¹å…¶è¯æ³•ä½œç”¨åŸŸçš„è®¿é—®ï¼Œå“ªæ€•æ˜¯åœ¨å½“å‰ä½œç”¨åŸŸä¹‹å¤–æ‰§è¡Œ</p>
</blockquote>
<blockquote>
<p>å¯¹äºç°ä»£æµè§ˆå™¨æœºåˆ¶æ¥è¯´ï¼Œé—­åŒ…å…¶å®å°±æ˜¯<code>é€ƒé€¸åˆ†æ</code> -&gt; é€šè¿‡æµè§ˆå™¨çš„æœºåˆ¶ï¼Œå“ªäº›å˜é‡ç”¨äº†ï¼Œå“ªäº›æ²¡ç”¨ï¼Œå“ªäº›æœªæ¥è¿˜ä¼šç”¨ã€‚å¯¹äºæ²¡æœ‰ç”¨çš„ï¼Œæµè§ˆå™¨æ‰§è¡Œåƒåœ¾å›æ”¶ã€‚æœ‰å¼•ç”¨çš„ï¼Œæµè§ˆå™¨ä¸ä¼šç«‹åˆ»å›æ”¶ï¼Œä¿ç•™è¿™ä¸ªè¢«å¼•ç”¨çš„å¯¹è±¡ã€‚</p>
</blockquote>
<p>é—­åŒ…çš„æ•°æ®å­˜å“ªé‡Œï¼Ÿ-&gt; å †åŒºå­˜å‚¨</p>
<p>å­˜çš„å…¶å®æ˜¯å•¥ï¼Ÿ</p>

      
       <hr><span style="font-style: italic;color: gray;"> è½¬è½½è¯·æ³¨æ˜æ¥æºï¼Œæ¬¢è¿å¯¹æ–‡ç« ä¸­çš„å¼•ç”¨æ¥æºè¿›è¡Œè€ƒè¯ï¼Œæ¬¢è¿æŒ‡å‡ºä»»ä½•æœ‰é”™è¯¯æˆ–ä¸å¤Ÿæ¸…æ™°çš„è¡¨è¾¾ã€‚å¯ä»¥åœ¨ä¸‹é¢è¯„è®ºåŒºè¯„è®ºï¼Œä¹Ÿå¯ä»¥é‚®ä»¶è‡³ miaozixiong@gmail.com </span>
    </div>
</article>


<p>
    <a  class="dashang" onclick="dashangToggle()">èµ</a>
</p>






    




    </div>
    <div class="copyright">
        <p class="footer-entry">
    Â©2017-2020 TonyMiao
</p>
<p class="footer-entry">Built with <a href="https://hexo.io/" target="_blank">Hexo</a> and <a href="https://github.com/yelog/hexo-theme-3-hexo" target="_blank">3-hexo</a> theme</p>

    </div>
    <div class="full-toc">
        <button class="full" data-title="åˆ‡æ¢å…¨å± å¿«æ·é”® s"><span class="min "></span></button>
<a class="" id="rocket" ></a>

    </div>
</div>

<div class="hide_box" onclick="dashangToggle()"></div>
<div class="shang_box">
    <a class="shang_close"  onclick="dashangToggle()">Ã—</a>
    <div class="shang_tit">
        <p>å–œæ¬¢å°±ç‚¹èµ,ç–¼çˆ±å°±æ‰“èµ</p>
    </div>
    <div class="shang_payimg">
        <div class="pay_img">
            <img src="/img/alipay.jpg" class="alipay" title="æ‰«ç æ”¯æŒ">
            <img src="/img/weixin.jpg" class="weixin" title="æ‰«ç æ”¯æŒ">
        </div>
    </div>
    <div class="shang_payselect">
        <span><label><input type="radio" name="pay" checked value="alipay">æ”¯ä»˜å®</label></span><span><label><input type="radio" name="pay" value="weixin">å¾®ä¿¡</label></span>
    </div>
</div>


</body>
<script src="/js/jquery.pjax.js?v=1.1.0" ></script>

<script src="/js/script.js?v=1.1.0" ></script>
<script>
    var img_resize = 'default';
    function initArticle() {
        /*æ¸²æŸ“å¯¹åº”çš„è¡¨æ ¼æ ·å¼*/
        
            $("#post .pjax table").addClass("green_title");
        

        /*æ¸²æŸ“æ‰“èµæ ·å¼*/
        
        $("input[name=pay]").on("click", function () {
            if($("input[name=pay]:checked").val()=="weixin"){
                $(".shang_box .shang_payimg .pay_img").addClass("weixin_img");
            } else {
                $(".shang_box .shang_payimg .pay_img").removeClass("weixin_img");
            }
        })
        

        /*é«˜äº®ä»£ç å—è¡Œå·*/
        

        /*è®¿é—®æ•°é‡*/
        
        $.getScript("//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js");
        

        /*ä»£ç é«˜äº®ï¼Œè¡Œå·å¯¹é½*/
        $('.pre-numbering').css('line-height',$('.has-numbering').css('line-height'));

        
        
    }

    /*æ‰“èµé¡µé¢éšè—ä¸å±•ç¤º*/
    
    function dashangToggle() {
        $(".shang_box").fadeToggle();
        $(".hide_box").fadeToggle();
    }
    

</script>

<!--åŠ å…¥è¡Œå·çš„é«˜äº®ä»£ç å—æ ·å¼-->

<!--è‡ªå®šä¹‰æ ·å¼è®¾ç½®-->
<style>
    
    
    .nav {
        width: 542px;
    }
    .nav.fullscreen {
        margin-left: -542px;
    }
    .nav-left {
        width: 120px;
    }
    
    
    @media screen and (max-width: 1468px) {
        .nav {
            width: 492px;
        }
        .nav.fullscreen {
            margin-left: -492px;
        }
        .nav-left {
            width: 100px;
        }
    }
    
    
    @media screen and (max-width: 1024px) {
        .nav {
            width: 492px;
            margin-left: -492px
        }
        .nav.fullscreen {
            margin-left: 0;
        }
    }
    
    @media screen and (max-width: 426px) {
        .nav {
            width: 100%;
        }
        .nav-left {
            width: 100%;
        }
    }
    
    
    .nav-right .title-list nav a .post-title, .nav-right .title-list #local-search-result a .post-title {
        color: #383636;
    }
    
    
    .nav-right .title-list nav a .post-date, .nav-right .title-list #local-search-result a .post-date {
        color: #5e5e5f;
    }
    
    
    .nav-right nav a.hover, #local-search-result a.hover{
        background-color: #e2e0e0;
    }
    
    

    /*åˆ—è¡¨æ ·å¼*/
    

    /* èƒŒæ™¯å›¾æ ·å¼ */
    
    


    /*å¼•ç”¨å—æ ·å¼*/
    

    /*æ–‡ç« åˆ—è¡¨èƒŒæ™¯å›¾*/
    

    
</style>







</html>
